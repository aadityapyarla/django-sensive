{% extends 'blog/base.html' %}

{% load static %}

{% block title %}

{% endblock title %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'styles/profile.css' %}">
    <link rel="stylesheet" href="{% static 'styles/update_profile.css' %}">
{% endblock styles %}

{% block content %}
    <!-- ! Main layout-->
    <main class="mb-5">
        <section>
            <div class="container" style="max-width: 900px !important;">
                <div class="widget-wrap">
                    <div class="single-sidebar-widget popular-post-widget">
                        <h4 class="single-sidebar-widget__title">Update Profile</h4>
                        <div class="popular-post-list">
                            <div class="container">
                                <div class="comment-form" style="background: inherit !important;">
                                    <form method="post">
                                        <!--- ! Modals -->
                                        <div class="modal fade" id="profile-cover-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                          <div class="modal-dialog" role="document">
                                            <div class="modal-content" style="background-color: #f9f9ff">
                                              <div class="modal-header">
                                                <h5 class="modal-title" style="font-family: 'Lora', serif;font-size: 20px;font-weight: 700;" id="exampleModalLabel">Update Profile Cover Photo</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                  <span aria-hidden="true">&times;</span>
                                                </button>
                                              </div>
                                              <div class="modal-body" style="padding: 2rem">
                                                <img id="modal-profile-cover-view" class="img-fluid" src="{% static 'images/blog/blog1.png' %}" alt="">
                                                <div class="form-group">
                                                    <div class="file-input">
                                                        <input type="file" name="cover-input" id="profile-cover-input"
                                                               class="file-input__input"/>
                                                        <label class="file-input__label mt-3" for="file-input">
                                                            <svg aria-hidden="true" focusable="false" data-prefix="fas"
                                                                 data-icon="upload"
                                                                 class="svg-inline--fa fa-upload fa-w-16" role="img"
                                                                 xmlns="http://www.w3.org/2000/svg"
                                                                 viewBox="0 0 512 512">
                                                                <path fill="currentColor"
                                                                      d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path>
                                                            </svg>
                                                            <span>Upload file</span></label>
                                                    </div>
                                                </div>
                                              </div>
                                              <div class="modal-footer" style="padding: 1rem 2rem">
                                                <button data-dismiss="modal" aria-label="Close" style="border: none;padding: 0px"><a href="#" class="button submit_btn">Cancel</a></button>
                                                <button id="submit" style="border: none;padding: 0px"><a href="#" class="button submit_btn">Save</a></button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="modal fade" id="profile-pic-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
                                          <div class="modal-dialog" role="document">
                                              <div class="modal-content" style="background-color: #f9f9ff">
                                                  <div class="modal-header">
                                                    <h5 class="modal-title" style="font-family: 'Lora', serif;font-size: 20px;font-weight: 700;" id="exampleModalLabel">Update Profile Photo</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                      <span aria-hidden="true">&times;</span>
                                                    </button>
                                                  </div>
                                                  <div class="modal-body" style="padding: 2rem">
                                                    <img class="img-fluid" src="{% static 'images/blog/blog1.png' %}" alt="">
                                                    <div class="form-group">
                                                        <div class="file-input">
                                                            <input type="file" name="file-input" id="file-input"
                                                                   class="file-input__input"/>
                                                            <label class="file-input__label mt-3" for="file-input">
                                                                <svg aria-hidden="true" focusable="false" data-prefix="fas"
                                                                     data-icon="upload"
                                                                     class="svg-inline--fa fa-upload fa-w-16" role="img"
                                                                     xmlns="http://www.w3.org/2000/svg"
                                                                     viewBox="0 0 512 512">
                                                                    <path fill="currentColor"
                                                                          d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path>
                                                                </svg>
                                                                <span>Upload file</span></label>
                                                        </div>
                                                    </div>
                                                  </div>
                                              <div class="modal-footer" style="padding: 1rem 2rem">
                                                <button data-dismiss="modal" aria-label="Close" style="border: none;padding: 0px"><a href="#" class="button submit_btn">Cancel</a></button>
                                                <button style="border: none;padding: 0px"><a href="#" class="button submit_btn">Save</a></button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div id="profile-cover" class="bg-image rounded-bottom shadow-1-strong"
                                             style="background-image: url('https://mdbootstrap.com/img/new/slides/297.jpg');height: 400px;background-size: contain;background-repeat: no-repeat;">
                                            <div class="hover-camera2">
                                                <i class="fas fa-camera"></i>
                                            </div>
                                        </div>
                                        <div  id="profile-pic" class="profile-pic d-flex justify-content-center" style="">
                                            <img src="https://mdbootstrap.com/img/new/avatars/18.jpg"
                                                 class="rounded-circle shadow-3-strong position-absolute" alt=""
                                                 style="width: 168px; margin-top: -190px"/>
                                            <div id="hover-camera" class="hover-camera">
                                                <i class="fas fa-camera"></i>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="username">Username</label>
                                            <input type="text" class="form-control" id="username"
                                                   placeholder="johndoe@12" onfocus="this.placeholder = ''"
                                                   onblur="this.placeholder = 'johndoe@12'">
                                        </div>
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input type="text" class="form-control" id="email"
                                                   placeholder="johndoe@example.com" onfocus="this.placeholder = ''"
                                                   onblur="this.placeholder = 'johndoe@example.com'">
                                        </div>
                                        <div class="form-group">
                                            <label for="twitter">Twitter Handle</label>
                                            <input type="text" class="form-control" id="twitter"
                                                   placeholder="johndoe@73" onfocus="this.placeholder = ''"
                                                   onblur="this.placeholder = 'johndoe@73'">
                                        </div>
                                        <div class="form-group">
                                            <label for="instagram">Instagram Id</label>
                                            <input type="text" class="form-control" id="instagram"
                                                   placeholder="johndoe82" onfocus="this.placeholder = ''"
                                                   onblur="this.placeholder = 'johndoe82'">
                                        </div>
                                        <div class="form-group">
                                            <label for="facebook">Facebook Id</label>
                                            <input type="text" class="form-control" id="facebook"
                                                   placeholder="johndoe1217" onfocus="this.placeholder = ''"
                                                   onblur="this.placeholder = 'Facebook Username'">
                                        </div>
                                        <div class="form-group">
                                            <label for="gender">Gender</label>
                                            <select class="form-select form-control"
                                                    aria-label="Default select example" id="gender">
                                                <option value="male" selected>Male</option>
                                                <option value="female">Female</option>
                                                <option value="other">Other</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="short-bio">Bio</label>
                                                    <textarea style="height: auto" class="form-control mb-10" id="short-bio" rows="2" name="bio"
                                                              placeholder="Short Description of yourself"
                                                              onfocus="this.placeholder = ''"
                                                              onblur="this.placeholder = 'Short Description of yourself'"
                                                              required=""></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="about-section">About Section</label>
                                                    <textarea class="form-control mb-10" id="about-section" rows="5" name="about"
                                                              placeholder="About Yourself"
                                                              onfocus="this.placeholder = ''"
                                                              onblur="this.placeholder = 'About Yourself'"
                                                              required=""></textarea>
                                        </div>
                                        <button type="submit" style="border: none;padding: 0"><a href="#" class="button submit_btn">Update</a></button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>
        <!-- Section: Grey background -->
    </main>
    {% endblock content %}
    {% block js %}
        <script>
            {#const profile_cover_input = document.getElementById('profile-cover-input')#}
            {#profile_cover_input.addEventListener('change', ()=> {#}
            {#    const img_data = profile_cover_input.files[0];#}
            {#    const url = URL.createObjectURL(img_data);#}
            {#    console.log(url);#}
            const Element = document.querySelector('#profile-cover-input');
            const Element2 = document.querySelector('#submit');
            const img = document.querySelector('#modal-profile-cover-view');
            Element2.click('change', function() {
              const url = URL.createObjectURL(Element.files[0]);
              img.src = url;
              console.log(url);
            });
        </script>
        <script>
            $('#profile-pic').hover(
            function () {$('#hover-camera').css('opacity', '1');},
            function () {$('#hover-camera').css('opacity', '0');}
            );
            $('#profile-cover').hover(
            function () {$('.hover-camera2').css('opacity', '1');},
            function () {$('.hover-camera2').css('opacity', '0');}
            );
            $('#profile-cover').click(function () {
               $('#profile-cover-modal').modal('toggle');
            });
            $('#profile-pic').click(function () {
               $('#profile-pic-modal').modal('toggle');
            });
        </script>
    {% endblock js %}